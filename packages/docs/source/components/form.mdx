---
title: Form
summary: Availity form components that are wired to be hooked up to [formik](https://github.com/jaredpalmer/formik)
---

[![Version](https://img.shields.io/npm/v/@availity/form.svg?style=for-the-badge)](https://www.npmjs.com/package/@availity/form)

## Installation

```bash
npx install-peerdeps @availity/form --save
```

## Programmatically controlling the state of the form

See [Formik documentation](https://jaredpalmer.com/formik/docs/api/formik)

## Migrating from `availity-reactstrap-validation`

The primary difference in developing with `availity-reactstrap-validation` and `@availity/form` is validation. With `availity-reactstrap-validation`, we define validation schemas on the input components in the form with the `validate` prop, like so:

```jsx
import { AvInput, AvForm } from 'availity-reactstrap-validation';

// ...
<AvForm>
  <AvInput
    name="myInput"
    type="text"
    validate={{
      required: {
        value: true,
        errorMessage: 'This field is required.',
      },
    }}
  />
</AvForm>;
// ...
```

Note: `availity-reactstrap-validation` also has a `required` prop that acts as a shorthand for required validation using the `validate` prop. The code snippet above is equivalent to:

```jsx
import { AvInput, AvForm } from 'availity-reactstrap-validation';

// ...
<AvForm>
  <AvInput name="myInput" type="text" required />
</AvForm>;
// ...
```

With `@availity/form`, we use `yup` and `@availity/yup` to define the validation schema for all of the inputs in the form on the `<Form />` component with the `validationSchema` prop from [formik](https://jaredpalmer.com/formik/docs/guides/validation#validationschema), like so:

```jsx
import { Input, Form } from '@availity/form';

// ...
<Form
  initialValues={{ myInput: '' }}
  validationSchema={yup.object().shape({
    myInput: yup.string().isRequired(true, 'This field is required.'),
  })}
>
  <Input name="myInput" type="text" />
</Form>;
// ...
```

Another key difference is we define the initial state of the inputs in the form with the `initialValues` prop from [formik](https://jaredpalmer.com/formik/docs/api/formik#initialvalues-values) on the `<Form />` component.

### Form with `availity-reactstrap-validation`

```jsx
import { AvField, AvForm } from 'availity-reactstrap-validation';
import '@availity/yup';
import * as yup from 'yup';

// ...
<AvForm onValidSubmit={() => {}}>
  <AvField
    name="memberId"
    type="text"
    label="Member ID"
    validate={{
      pattern: { value: 'd{8}', errorMessage: 'Member ID must be 8 digits' },
      required: {
        value: true,
        errorMessage: 'This Field is Required.',
      },
    }}
  />
  <AvField
    name="zipCode"
    type="text"
    label="Zip Code"
    validate={{
      pattern: {
        value: '^d{5}(?:-d{4})?$',
        errorMessage: 'Valid Zip Code Formats: 12345 or 12345-6789',
      },
      required: {
        value: true,
        errorMessage: 'This Field is Required.',
      },
    }}
  />
</AvForm>;
// ...
```

### Equivalent Form with `@availity/form`

```jsx
import { Field, Form } from '@availity/form';
import '@availity/yup';
import * as yup from 'yup';

// ...
<Form
  onSubmit={() => {}}
  initialValues={{
    memberId: '',
    zipCode: '',
  }}
  validationSchema={yup.object().shape({
    memberId: yup
      .string()
      .isRequired(true, 'This Field is Required.')
      .matches(/^\d{8}$/, 'Member ID must be 8 digits.'),
    zipCode: yup
      .string()
      .isRequired(true, 'This Field is Required.')
      .matches(/^\d{5}(?:-\d{4})?$/, 'Valid Zip Code Formats: 12345 or 12345-6789'),
  })}
>
  <Field
    name="memberId"
    type="text"
    label="Member ID"
   }}
  />
  <Field
    name="zipCode"
    type="text"
    label="Zip Code"
  />
</Form>
// ...
```

## Validation

See [yup](https://github.com/jquense/yup) and [@availity/yup](https://github.com/Availity/sdk-js/tree/master/packages/yup).

## Browser Compatibility! ( Internet Explorer )

In order for this library to be compatible with Internet Explorer, the following polyfills need to be provided. If you are on `@availity/workflow@6.0.0` or later, they are already provided for you.

- [Array.from](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/from)
- [Object.assign](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign)

## Components

### Form

Reactstrap `Form` component wrapped in `Formik`

#### Usage

```jsx
import React from 'react';
import { Form, Field } from '@availity/form';

const schema = yup.object().shape({
  hello: yup.string().required(),
});

<Form
  initialValues={{
    hello: '',
  }}
  onSubmit={values => alert(JSON.stringify(values))}
  validationSchema={schema}
>
  <Field name="hello" type="text" label="Hello" />
  {/* ... */}
</Form>;
// ...
```

#### Props

| Prop Name              | Types                    | Required | Default    | Description                                                                            |
| -------------          | -------                  | -------- | --------   | -------------------------------------------------------------------------------------- |
| **`initialValues`**    | Object                   | true     |            | Object of values to initialize the form components with by name.                       |
| **`onSubmit`**         | Function                 | false    | `() => {}` | Action to perform on form submit.                                                      |
| **`onReset`**          | Function                 | false    |            | Action to perform on form reset.                                                       |
| **`initialStatus`**    | Any                      | false    |            | Arbitrary value for the status of the form.                                            |
| **`initialErrors`**    | Object                   | false    |            | Errors to show initially by name.                                                      |
| **`initialTouched`**   | Object                   | false    |            | Initially touched fields by name.                                                      |
| **`validationSchema`** | Object (`yup` preferred) | false    |            | Validation object for each `name` in the data.                                         |
| **`validate`**         | Function                 | false    |            | Returns true/false within a promise.                                                   |
| **`children`**         | Node                     | false    |            | Child components to render within the form.                                            |

### Input

Basic Input field that utilizes the `Form` validation

#### Usage

```jsx
<Form
  initialValues={{
    hello: '',
  }}
  onSubmit={values => alert(JSON.stringify(values))}
  validationSchema={schema}
>
  <Input name="hello" />
  {/* ... */}
</Form>
```

#### Props

| Prop Name       | Types           | Required | Default          | Description                                                                            |
| -------------   | -------         | -------- | --------         | -------------------------------------------------------------------------------------- |
| **`name`**      | String          | true     |                  | Identifies the field and matches the validation key.                                   |
| **`tag`**       | Function,String | false    | Reactstrap Input | The Node or tag to substitute as the input field                                       |
| **`className`** | String          | false    |                  | Additional styles to pass down to the input.                                           |

### Field

Input field wrapped in additional features such as label, feedback, grid options, etc

#### Usage

```jsx
<Form
  initialValues={{
    hello: '',
  }}
  onSubmit={values => alert(JSON.stringify(values))}
  validationSchema={schema}
>
  <Field name="hello" label="Greeting" />
  {/* ... */}
</Form>
```

#### Props

| Prop Name         | Types           | Required | Default          | Description                                                                            |
| -------------     | -------         | -------- | --------         | -------------------------------------------------------------------------------------- |
| **`name`**        | String          | true     |                  | Identifies the field and matches the validation key.                                   |
| **`tag`**         | Function,String | false    | Reactstrap Input | The Node or tag to substitute as the input field                                       |
| **`label`**       | Node            | false    |                  | Displays a Reactstrap `<Label />` for the field                                        |
| **`labelHidden`** | Boolean         | false    |                  | Hide the `label`                                                                       |
| **`disabled`**    | Boolean         | false    |                  | Disable the `<Field />`                                                                |
| **`readOnly`**    | Boolean         | false    |                  | Mark the field as read only.                                                           |
| **`size`**        | String          | false    |                  | Size of the input field. Potential values: `"lg"`, `"sm"`                              |
| **`inputClass`**  | String          | false    |                  | Class names passed to the input.                                                       |
| **`labelClass`**  | String          | false    |                  | Class names passed to the label.                                                       |
| **`helpMessage`** | Node            | false    |                  | Display info text below the field                                                      |
| **`labelAttrs`**  | Object          | false    |                  | Pass additional attributes to the label component.                                     |
| **`groupAttrs`**  | Object          | false    |                  | Pass additional attributes to the form group component.                                |
| **`grid`**        | Object          | false    |                  | Object mapping number of columns to the label and input.                               |

### Checkbox

Inputs of type checkbox. Checkboxes should be wrapped in a `CheckboxGroup`

#### Usage

```jsx
<Form
  initialValues={{
    hello: [],
  }}
  onSubmit={() => {}}
  validationSchema={yup.object().shape({
    hello: yup.array().required('At least one checkbox is required'),
  })}
>
  <CheckboxGroup name="hello" label="Checkbox Group">
    <Checkbox label="Check One" value="uno" />
    <Checkbox label="Check Two" value="dos" />
    <Checkbox label="Check Three" value="tres" />
  </CheckboxGroup>
  <Button type="submit">Submit</Button>
</Form>
```

### CheckboxGroup Props

| Prop Name      | Types   | Required | Default  | Description                                                                            |
| -------------  | ------- | -------- | -------- | -------------------------------------------------------------------------------------- |
| **`name`**     | String  | false    |          | Should match checkbox id for validation.                                               |
| **`children`** | Node    | false    |          | Child components to render, use `Checkbox`es.                                          |
| **`label`**    | Node    | false    |          | Label for the group of checkboxes                                                      |

### Checkbox Props

| Prop Name       | Types   | Required | Default  | Description                                                                            |
| -------------   | ------- | -------- | -------- | -------------------------------------------------------------------------------------- |
| **`id`**        | String  | false    |          | Should match `<CheckboxGroup />` name for validation.                                  |
| **`label`**     | Node    | false    |          | Label for the checkbox                                                                 |
| **`value`**     | String  | false    |          | Value of the checkbox                                                                  |
| **`disabled`**  | Boolean | false    |          | Disable the checkbox                                                                   |
| **`className`** | String  | false    |          | Class names for the checkbox                                                           |

### Radio

Inputs of type radio. Radios should be wrapped in a `RadioGroup`.

#### Usage

```jsx
<Form
  initialValues={{
    hello: '',
  }}
  onSubmit={() => {}}
  validationSchema={yup.object().shape({
    hello: yup.string().required('This field is required'),
  })}
>
  <RadioGroup name="hello" label="Radio Group">
    <Radio label="Radio One" value="uno" />
    <Radio label="Radio Two" value="dos" />
    <Radio label="Radio Three" value="tres" />
  </RadioGroup>
  <Button type="submit">Submit</Button>
</Form>
```

#### RadioGroup Props

| Prop Name      | Types   | Required | Default  | Description                                                                            |
| -------------  | ------- | -------- | -------- | -------------------------------------------------------------------------------------- |
| **`name`**     | String  | false    |          | Should match radio id for validation.                                                  |
| **`children`** | Node    | false    |          | Child components to render, use `Radio`s.                                              |
| **`label`**    | Node    | false    |          | Label for the group of radio buttons                                                   |

#### Radio Props

| Prop Name       | Types   | Required | Default  | Description                                                                            |
| -------------   | ------- | -------- | -------- | -------------------------------------------------------------------------------------- |
| **`id`**        | String  | false    |          | Should match `<RadioGroup />` name for validation.                                     |
| **`label`**     | Node    | false    |          | Label for the radio button                                                             |
| **`value`**     | String,Boolean,Object  | false    |          | Value of the radio button                                                              |
| **`disabled`**  | Boolean | false    |          | Disable the radio button                                                               |
| **`className`** | String  | false    |          | Class names for the radio button                                                       |

### FormGroup

Wrapper for an Input field. Uses reactstrap `FormGroup`.

#### Usage

```jsx
<Form
  initialValues={{
    hello: '',
  }}
  onSubmit={() => ({})}
  validationSchema={yup.object().shape({
    hello: yup.string().required(),
  })}
>
  <FormGroup for="hello">
    <Input name="hello" />
  </FormGroup>
</Form>
```

#### FormGroup Props

| Prop Name       | Types   | Required | Default  | Description                                                                            |
| -------------   | ------- | -------- | -------- | -------------------------------------------------------------------------------------- |
| **`className`** | String  | false    |          | Class names for the form group                                                         |
| **`for`**       | String  | false    |          | Used to match the wrapped input                                                        |

### Feedback

Error message container for an input.

#### Usage

```jsx
<Form
  initialValues={{
    hello: '',
  }}
  onSubmit={() => ({})}
  validationSchema={yup.object().shape({
    hello: yup.string().required('Oops'),
  })}
>
  <Input name="hello" />
  <Feedback name="hello" />
</Form>
```

#### Props

| Prop Name     | Types   | Required | Default  | Description                                                                            |
| ------------- | ------- | -------- | -------- | -------------------------------------------------------------------------------------- |
| **`name`**    | String  | false    |          | Name used to match the validation schema to the message.                               |
